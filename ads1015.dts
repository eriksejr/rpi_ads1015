/*
 * 2016 - Erik Sejr
 */
/dts-v1/;
/plugin/;

/ {
    compatible = "brcm,bcm2708";
    /* ----------- ADS1015 ------------ */
    fragment@0 {
        target = <&i2c_arm>;
        __overlay__ {
            #address-cells = <1>;
            #size-cells = <0>;
            status = "okay";
            ads1015: ads1015 {
                compatible = "ti,ads1015";
                status = "okay";
                #address-cells = <1>;
                #size-cells = <0>;
                reg = <0x48>;
            };
        };
    };

    fragment@1 {
        target-path = "i2c_arm/ads1015";
        __overlay__ {
            #address-cells = <1>;
            #size-cells = <0>;
            channel_a: channel_a {
                reg = <4>;
                ti,gain = <2>;
                ti,datarate = <4>;
            };
        };
    };

    fragment@2 {
        target-path = "i2c_arm/ads1015";
        __dormant__ {
            #address-cells = <1>;
            #size-cells = <0>;
            channel_b: channel_b {
                reg = <5>;
                ti,gain = <2>;
                ti,datarate = <4>;
            };
        };
    };

    fragment@3 {
        target-path = "i2c_arm/ads1015";
        __dormant__ {
            #address-cells = <1>;
            #size-cells = <0>;
            channel_c: channel_c {
                reg = <6>;
                ti,gain = <2>;
                ti,datarate = <4>;
            };
        };
    };

    fragment@4 {
        target-path = "i2c_arm/ads1015";
        __dormant__ {
            #address-cells = <1>;
            #size-cells = <0>;
            channel_d: channel_d {
                reg = <7>;
                ti,gain = <2>;
                ti,datarate = <4>;
            };
        };
    };

    __overrides__ {
        addr =            <&ads1015>,"reg:0";
        chA_enable =      <0>,"=1";
        chA_cfg =         <&channel_a>,"reg:0";
        chA_gain =        <&channel_a>,"ti,gain:0";
        chA_datarate =    <&channel_a>,"ti,datarate:0";
        chB_enable =      <0>,"=2";
        chB_cfg =         <&channel_b>,"reg:0";
        chB_gain =        <&channel_b>,"ti,gain:0";
        chB_datarate =    <&channel_b>,"ti,datarate:0";
        chC_enable =      <0>,"=3";
        chC_cfg =         <&channel_c>,"reg:0";
        chC_gain =        <&channel_c>,"ti,gain:0";
        chC_datarate =    <&channel_c>,"ti,datarate:0";
        chD_enable =      <0>,"=4";
        chD_cfg =         <&channel_d>,"reg:0";
        chD_gain =        <&channel_d>,"ti,gain:0";
        chD_datarate =    <&channel_d>,"ti,datarate:0";
   };

};
